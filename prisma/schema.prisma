generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  // provider             = "sqlite"
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Catalog {
  id          Int       @id @default(autoincrement())
  title       String
  description String
  icon        String
  services    Service[]
}

model Service {
  id          Int    @id @default(autoincrement())
  title       String
  description String

  catalogId Int?
  Catalog   Catalog? @relation(fields: [catalogId], references: [id])
}

model Ticket {
  id     Int    @id @default(autoincrement())
  ticket String @unique @default(uuid())

  title    String
  type     String
  status   String
  priority String
  date     String

  userId DateTime
  detail Detail[]
}

model Detail {
  id       Int @id @default(autoincrement())
  ticketId Int

  title     String
  attendant String
  queue     String
  detalhe   String
  date      String

  ticket Ticket @relation(fields: [ticketId], references: [id])
}

model customer_user {
  id                Int      @id @default(autoincrement())
  login             String
  email             String
  customer_id       String
  pw                String
  title             String
  first_name        String
  last_name         String
  phone             String
  fax               String
  mobile            String
  street            String
  zip               String
  city              String
  country           String
  comments          String
  telegram_username String
  valid_id          String
  create_time       DateTime
  create_by         Int
  change_time       String
  change_by         Int
}
